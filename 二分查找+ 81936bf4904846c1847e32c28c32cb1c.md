# äºŒåˆ†æŸ¥æ‰¾+

<aside>
ğŸ‹ **æ¨¡æ¿ #1**Â `(left <= right)`

</aside>

- äºŒåˆ†æŸ¥æ‰¾çš„æœ€åŸºç¡€å’Œæœ€åŸºæœ¬çš„å½¢å¼ã€‚
- æŸ¥æ‰¾æ¡ä»¶å¯ä»¥åœ¨ä¸ä¸å…ƒç´ çš„ä¸¤ä¾§è¿›è¡Œæ¯”è¾ƒçš„æƒ…å†µä¸‹ç¡®å®šï¼ˆæˆ–ä½¿ç”¨å®ƒå‘¨å›´çš„ç‰¹å®šå…ƒç´ ï¼‰ã€‚
- ä¸éœ€è¦åå¤„ç†ï¼Œå› ä¸ºæ¯ä¸€æ­¥ä¸­ï¼Œä½ éƒ½åœ¨æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°äº†å…ƒç´ ã€‚å¦‚æœåˆ°è¾¾æœ«å°¾ï¼Œåˆ™çŸ¥é“æœªæ‰¾åˆ°è¯¥å…ƒç´ ã€‚

<aside>
ğŸ‹ **æ¨¡æ¿ #2**Â `(left < right)`

</aside>

- ä¸€ç§å®ç°äºŒåˆ†æŸ¥æ‰¾çš„é«˜çº§æ–¹æ³•ã€‚
- æŸ¥æ‰¾æ¡ä»¶éœ€è¦è®¿é—®å…ƒç´ çš„ç›´æ¥å³é‚»å±…ã€‚
- ä½¿ç”¨å…ƒç´ çš„å³é‚»å±…æ¥ç¡®å®šæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œå¹¶å†³å®šæ˜¯å‘å·¦è¿˜æ˜¯å‘å³ã€‚
- ä¿è¯æŸ¥æ‰¾ç©ºé—´åœ¨æ¯ä¸€æ­¥ä¸­è‡³å°‘æœ‰ 2 ä¸ªå…ƒç´ ã€‚
- éœ€è¦è¿›è¡Œåå¤„ç†ã€‚ å½“ä½ å‰©ä¸‹ 1 ä¸ªå…ƒç´ æ—¶ï¼Œå¾ªç¯ / é€’å½’ç»“æŸã€‚ éœ€è¦è¯„ä¼°å‰©ä½™å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚

<aside>
ğŸ‹ **æ¨¡æ¿ #3**Â `(left + 1 < right)`

</aside>

- æœç´¢æ¡ä»¶éœ€è¦è®¿é—®å…ƒç´ çš„ç›´æ¥å·¦å³é‚»å±…ã€‚
ä½¿ç”¨å…ƒç´ çš„é‚»å±…æ¥ç¡®å®šå®ƒæ˜¯å‘å³è¿˜æ˜¯å‘å·¦ã€‚
ä¿è¯æŸ¥æ‰¾ç©ºé—´åœ¨æ¯ä¸ªæ­¥éª¤ä¸­è‡³å°‘æœ‰ 3 ä¸ªå…ƒç´ ã€‚
éœ€è¦è¿›è¡Œåå¤„ç†ã€‚Â å½“å‰©ä¸‹ 2 ä¸ªå…ƒç´ æ—¶ï¼Œå¾ªç¯ / é€’å½’ç»“æŸã€‚Â éœ€è¦è¯„ä¼°å…¶ä½™å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚

![Untitled](%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE+%2081936bf4904846c1847e32c28c32cb1c/Untitled.png)

```python
class Solution:
    def closestValue(self, root: Optional[TreeNode], target: float) -> int:

        def dfs(node):
            nonlocal ans
            if not node:
                return
            if abs(node.val - target) < abs(ans - target):
                ans = node.val
						if abs(node.val - target) == abs(ans - target):
								return min(node.val,ans)
            if node.val > target:
                dfs(node.left)
            elif node.val < target:
                dfs(node.right)
            return

        ans = root.val
        dfs(root)
        return ans
#--------------------------------------
def closestValue(root, target):
    if not root:
        return float('inf')  # å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›ä¸€ä¸ªæ— ç©·å¤§çš„å€¼ä½œä¸ºåˆå§‹å€¼
    
    if root.val == target:
        return root.val  # å¦‚æœå½“å‰èŠ‚ç‚¹å€¼ä¸ç›®æ ‡å€¼ç›¸ç­‰ï¼Œç›´æ¥è¿”å›å½“å‰èŠ‚ç‚¹å€¼
    
    # æ ¹æ®ç›®æ ‡å€¼ä¸å½“å‰èŠ‚ç‚¹å€¼çš„æ¯”è¾ƒï¼Œå†³å®šå‘å·¦å­æ ‘æˆ–å³å­æ ‘ç§»åŠ¨
    if target < root.val:
        left_closest = closestValue(root.left, target)
        return root.val if abs(root.val - target) < abs(left_closest - target) else left_closest
    else:
        right_closest = closestValue(root.right, target)
        return root.val if abs(root.val - target) < abs(right_closest - target) else right_closest

```

<aside>
ğŸ‹ ****å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯****
ç»™ä½ ä¸€ä¸ªå­—ç¬¦æ•°ç»„Â `letters`ï¼Œè¯¥æ•°ç»„æŒ‰**éé€’å‡é¡ºåº**æ’åºï¼Œä»¥åŠä¸€ä¸ªå­—ç¬¦Â `target`ã€‚`letters`Â é‡Œ**è‡³å°‘æœ‰ä¸¤ä¸ªä¸åŒ**çš„å­—ç¬¦
è¿”å›Â `letters`Â ä¸­å¤§äºÂ `target`Â çš„æœ€å°çš„å­—ç¬¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­—ç¬¦ï¼Œåˆ™è¿”å›Â `letters`Â çš„ç¬¬ä¸€ä¸ªå­—ç¬¦

</aside>

```python
#æ ¹æ®é¢˜æ„ ä¸ºä»€ä¹ˆé‡‡ç”¨æ¨¡æ¿1 :å­˜åœ¨ç‰¹æ®Šæƒ…å†µtarget>æ‰€æœ‰å€¼oflettersæ—¶ï¼Œè¿”å›letters[left]çš„æ—¶å€™
#åº”è¯¥è¿”å›ç¬¬ä¸€ä¸ªå€¼letters[0]ï¼Œä¹Ÿå°±æ˜¯è¯´è¦è®©leftåœæ­¢åœ¨rightçš„å³è¾¹

n = len(letters)
    left, right = 0, n - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        if letters[mid] <= target:
            left = mid + 1
        else:
            right = mid - 1
    
    return letters[left % n] if left < n else letters[0]
```

<aside>
ğŸ‹ ****å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼****

![Untitled](%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE+%2081936bf4904846c1847e32c28c32cb1c/Untitled%201.png)

</aside>

```python
"""
æ€è·¯:åˆ›å»ºä¸€ä¸ªäºŒåˆ†æœç´¢æ ‘ï¼Œå¯»æ‰¾å·¦å­æ ‘æœ€å·¦ç«¯èŠ‚ç‚¹å³å¯
"""
class Solution:
    def findMin(self, nums: List[int]) -> int:
        n = len(nums)
        left, right = 0, n - 1
        while left < right:
            mid = left + (right - left) // 2
            
            # å¦‚æœä¸­é—´å…ƒç´ å¤§äºå³è¾¹ç•Œå…ƒç´ ï¼Œè¯´æ˜æœ€å°å€¼åœ¨å³ä¾§ï¼Œç¼©å°å·¦è¾¹ç•Œ
            if nums[mid] > nums[right]:
                left = mid + 1
            # å¦‚æœä¸­é—´å…ƒç´ å°äºç­‰äºå³è¾¹ç•Œå…ƒç´ ï¼Œè¯´æ˜æœ€å°å€¼åœ¨å·¦ä¾§æˆ–å°±æ˜¯å½“å‰ä¸­é—´å€¼ï¼Œç¼©å°å³è¾¹ç•Œ
            else:
                right = mid
        
        return nums[left]
```

<aside>
ğŸ‹ ****å¯»æ‰¾é‡å¤æ•°****

![Untitled](%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE+%2081936bf4904846c1847e32c28c32cb1c/Untitled%202.png)

</aside>

```python
"""
æœç´¢ç®—æ³•
æ•°ç»„é“¾è¡¨åŒæŒ‡é’ˆ
å¯ä»¥å°†æ•°ç»„ä¸­çš„ç´¢å¼•ä¸æ•°ç»„ä¸­çš„å€¼çœ‹ä½œæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé€šè¿‡ç´¢å¼•æ¥è®¿é—®å€¼ï¼Œ
å°±å¥½åƒæ˜¯é“¾è¡¨çš„æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºæ•°ç»„ä¸­è‡³å°‘æœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œå› æ­¤å­˜åœ¨ä¸€ä¸ªç¯å½¢é“¾è¡¨ã€‚
"""
def findDuplicate(nums):
    slow = nums[0]
    fast = nums[0]
    
    # å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ç›¸é‡ç‚¹
    while True:
        slow = nums[slow]
        fast = nums[nums[fast]]
        if slow == fast:
            break
    
    # å°†æ…¢æŒ‡é’ˆæ”¾ç½®åˆ°èµ·ç‚¹ï¼Œå¿«æ…¢æŒ‡é’ˆä»¥ç›¸åŒé€Ÿåº¦ç§»åŠ¨ç›´åˆ°å†æ¬¡ç›¸é‡
    slow = nums[0]
    while slow != fast:
        slow = nums[slow]
        fast = nums[fast]
    
    return slow

#----------Hash Table------------------------------
def findDuplicate(nums):
    seen = set()
    
    for num in nums:
        if num in seen:
            return num
        seen.add(num)
```

<aside>
ğŸ‹ ****åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼****

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„Â `nums`Â å’Œä¸€ä¸ªæ•´æ•°Â `k`Â ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆÂ `k`Â **ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™Â `k`Â **ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚

</aside>

```python
"""
å­æ•°ç»„çš„å’Œçš„å–å€¼èŒƒå›´æ˜¯[MAX(nums),SUM(nums)]
å…ˆåˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°å­æ•°ç»„å’Œçš„æœ€å¤§å€¼çš„èŒƒå›´
ç„¶ååˆ©ç”¨è´ªå¿ƒç­–ç•¥æ‰¾åˆ°å­æ•°ç»„åˆ†ç»„
"""
**def splitArray(nums, k):
    left, right = max(nums), sum(nums)
    
    while left < right:
        mid = (left + right) // 2
        if canSplit(nums, mid, k):
            right = mid
        else:
            left = mid + 1
    
    return left

def canSplit(nums, target, k):
    count = 1  # è®°å½•å­æ•°ç»„çš„æ•°é‡
    current_sum = 0  # è®°å½•å½“å‰å­æ•°ç»„çš„å’Œ
    
    for num in nums:
        current_sum += num
        if current_sum > target:  # å½“å‰å­æ•°ç»„å’Œè¶…è¿‡äº†ç›®æ ‡å€¼
            count += 1
            current_sum = num  # å¼€å§‹ä¸€ä¸ªæ–°çš„å­æ•°ç»„
            if count > k:
                return False
    
    return True

# ç¤ºä¾‹ç”¨æ³•
nums = [7, 2, 5, 10, 8]
k = 2
result = splitArray(nums, k)
print(f"å°†æ•°ç»„åˆ†æˆ {k} ä¸ªå­æ•°ç»„ä½¿å¾—å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ä¸ºï¼š{result}")**
```

<aside>
ğŸ‹ ****æ‰¾å‡ºç¬¬ k å°çš„è·ç¦»å¯¹****
æ•°å¯¹Â `(a,b)`Â ç”±æ•´æ•°Â `a`Â å’ŒÂ `b`Â ç»„æˆï¼Œå…¶æ•°å¯¹è·ç¦»å®šä¹‰ä¸ºÂ `a`Â å’ŒÂ `b`Â çš„ç»å¯¹å·®å€¼ã€‚
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œæ•°å¯¹ç”± nums[i] å’Œ nums[j] ç»„æˆä¸”æ»¡è¶³ 0 <= i < j < nums.length ã€‚è¿”å› æ‰€æœ‰æ•°å¯¹è·ç¦»ä¸­ ç¬¬ k å°çš„æ•°å¯¹è·ç¦»ã€‚

</aside>

```python
"""
äºŒåˆ†æŸ¥æ‰¾æ•°å¯¹å·®å€¼çš„èŒƒå›´ï¼Œè¿”å›æ•°ç»„ä¸­æ¯”è¯¥å·®å€¼å°çš„æ•°å¯¹çš„è®¡æ•°
åˆ©ç”¨è´ªå¿ƒç®—æ³•ä»æ•°ç»„çš„æœ€å°å€¼å¼€å§‹ï¼Œè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªiæŒ‰é¡ºåºéå†ï¼Œå¦ä¸€ä¸ªjä»å¤´å¼€å§‹ï¼Œ
åªè¦nums[i]-nums[j]<target,(I,J)å°±æ˜¯ä¸€ä¸ªæ»¡è¶³å°äºtargetçš„æ•°å¯¹ï¼ŒCOUNT+=1ã€‚
ä¸€æ¬¡éå†åè¿”å›å°äºtargetçš„æ•°å¯¹æ•°
å½“count<äºŒåˆ†æŸ¥æ‰¾å¾—åˆ°çš„kæ—¶,ä¹Ÿå°±æ˜¯è¯´ç¬¬kå°çš„æ•°å¯¹è·ç¦»åº”è¯¥æ¯”targetå¤§ï¼Œæ‰€ä»¥left=mid+1
"""

def smallestDistancePair(nums, k):
    nums.sort()  # å¯¹æ•°ç»„è¿›è¡Œæ’åº
    left, right = 0, nums[-1] - nums[0]  # å®šä¹‰äºŒåˆ†æŸ¥æ‰¾çš„å·¦å³è¾¹ç•Œ
    
    while left < right:
        mid = (left + right) // 2
        count = countPairs(nums, mid)  # ç»Ÿè®¡æ•°å¯¹è·ç¦»å°äºç­‰äº mid çš„æ•°é‡
        
        if count < k:
            left = mid + 1
        else:
            right = mid
    
    return left

def countPairs(nums, target):
    count = 0
    left = 0
    
    for right in range(len(nums)):
        while nums[right] - nums[left] > target:
            left += 1
        count += right - left
    
    return count

# ç¤ºä¾‹ç”¨æ³•
nums = [1, 3, 1]
k = 1
result = smallestDistancePair(nums, k)
print(f"ç¬¬ {k} å°çš„æ•°å¯¹è·ç¦»æ˜¯ï¼š{result}")
```

<aside>
ğŸ‹ ****å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°****
ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸ºÂ `m`Â å’ŒÂ `n`Â çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„Â `nums1`Â å’ŒÂ `nums2`ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„Â **ä¸­ä½æ•°**
ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸ºÂ `O(log (m+n))`

</aside>

```python
"""
è¿™é“é¢˜å¦‚æœæ—¶é—´å¤æ‚åº¦æ²¡æœ‰é™å®šåœ¨ O(log(m+n))O(log(m+n))O(log(m+n))ï¼Œ
æˆ‘ä»¬å¯ä»¥ç”¨ O(m+n)O(m+n)O(m+n) çš„ç®—æ³•è§£å†³ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„ï¼Œ
æ¯”è¾ƒæŒ‡é’ˆä¸‹çš„å…ƒç´ å¤§å°ï¼Œä¸€å…±ç§»åŠ¨æ¬¡æ•°ä¸º (m+n + 1)/2ï¼Œä¾¿æ˜¯ä¸­ä½æ•°

"""
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        m, n = len(nums1), len(nums2)
        if m > n: return self.findMedianSortedArrays(nums2, nums1)
        left, right = 0, m
        half = (m + n + 1) // 2
        while left < right:
            i = (left + right) // 2
            j = half - i
            if nums1[i] < nums2[j - 1]:
                left = i + 1
            else:
                right = i
        i, j = left, half - left

        if i == 0:
            mid1 = nums2[j - 1]
        elif j == 0:
            mid1 = nums1[i - 1]
        else:
            mid1 = max(nums1[i - 1], nums2[j - 1])
        if (m + n) & 1:
            return mid1

        if i == m:
            mid2 = nums2[j]
        elif j == n:
            mid2 = nums1[i]
        else:
            mid2 = min(nums1[i], nums2[j])
        return (mid1 + mid2) / 2
```

```python
"""
O(m+n)
"""
class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        nums = nums1 + nums2
        nums.sort()
        length = len(nums)
        if length==1:
            return nums[0]
        if length/2 == int(length/2):   # å¶æ•°
            return (nums[length//2]+nums[length//2-1])/2
        else:
            return nums[length//2]
```

[solution](https://www.notion.so/solution-dd0aa5a483e140188c397f1559c7c42e?pvs=21)